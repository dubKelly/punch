#!/usr/bin/env python3

import sys
import datetime

# for arg in sys.argv:
#   if arg == 'in':
#     # open('punch_card.json', 'w')
#     date = datetime.datetime.now().date()
#     time = str(datetime.datetime.now().time())[:8]
def parse_args():
  args = {
    'in': {
      'func': 'in',
      'switch': ['in'],
      'help': ['in', 'Punch in at current date/time']
    },
    'out': {
      'func': 'out',
      'switch': ['out'],
      'help': ['out', 'Punch out at current date/time']
    },
    'help': {
      'func': 'help',
      'switch': ['-h', '--help'],
    }
  }

  def match_args(d, query):
    for k, v in d.items():
      if isinstance(v, dict):
        match_args(v, query)
      elif k == 'switch':
        for i in v:
          if i == query:
            print(i)

  for arg in sys.argv[1:]:
    match_args(args, arg)


def main():
  parse_args()

main()
